<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Für dich ❤️</title>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  background: linear-gradient(to bottom right, #ffe6f0, #fff);
  overflow-x: hidden;
}
h1, h2, p {text-align: center; color: #d63384;}
button {
  background: #ff6b9b; border: none; color: white;
  padding: 10px 20px; border-radius: 25px; cursor: pointer;
  transition: transform 0.3s;
}
button:hover {transform: scale(1.1); background: #ff85ad;}
.letter {
  background: #fff0f6; border: 2px solid #ffb6c1;
  border-radius: 15px; padding: 20px; margin: 40px auto;
  width: 80%; max-width: 400px; text-align: center;
  box-shadow: 0 0 15px rgba(255,182,193,0.4);
}
.letter p {color: #333;}
#countdown {font-size: 20px; margin-top: 10px; color: #ff5c8d;}
.game {text-align: center; margin: 40px 0; position: relative; height: 150px;}
.gallery-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  flex-wrap: wrap;
  margin: 20px auto;
}
.gallery-container img {
  width: 200px;
  max-width: 90vw;
  height: auto;
  border-radius: 15px;
  box-shadow: 0 0 12px rgba(0,0,0,0.2);
  transition: transform 0.3s;
}
.gallery-container img:hover { transform: scale(1.05); }
footer {text-align: center; padding: 20px; color: #888;}
.heart {
  position: fixed; pointer-events: none; z-index: 9999;
  opacity: 0.9; will-change: transform, opacity;
}

/* 💊 Pille-Reminder oben */
#pillReminder {
  position: fixed;
  top: 10px;
  right: 10px;
  background: #fff0f6;
  border: 2px solid #ffb6c1;
  border-radius: 15px;
  box-shadow: 0 0 15px rgba(255,182,193,0.7);
  padding: 15px 20px;
  text-align: center;
  z-index: 10000;
  width: 220px;
  transition: all 0.3s ease;
}
#pillMinimize {
  position: absolute;
  top: 5px; right: 5px;
  background: #ff85ad; border: none; color: white;
  border-radius: 50%; width: 25px; height: 25px; cursor: pointer;
}
#pillCountdown, #pillTitle { margin-top: 5px; }
#pillReminder.minimized #pillTakenBtn { display: none; }

/* 📝 Notizen */
#notesButton {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: #ff85ad;
  color: white;
  border: none;
  border-radius: 30px;
  padding: 10px 20px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  font-size: 16px;
  z-index: 10000;
  transition: background 0.3s, transform 0.2s;
}
#notesButton:hover { background: #ff5c8d; transform: scale(1.05); }

#notesPanel {
  position: fixed;
  bottom: 70px;
  left: 20px;
  width: 280px;
  height: 260px;
  background: #fff0f6;
  border: 2px solid #ffb6c1;
  border-radius: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 9999;
}
#notesPanel.open { display: flex; animation: slideUp 0.3s ease-out; }

#notesPanel textarea {
  flex: 1;
  margin: 10px;
  border-radius: 10px;
  border: 1px solid #ffb6c1;
  padding: 8px;
  resize: none;
  font-family: "Poppins", sans-serif;
  font-size: 14px;
}
#notesPanel h3 { text-align: center; color: #d63384; margin-top: 10px; }

/* Media Queries für Handys */
@media (max-width: 600px) {
  #notesPanel {
    bottom: 10px;
    left: 5%;
    width: 90%;
    height: 200px;
  }
  #notesButton { bottom: 10px; left: 5%; width: 90%; }
  .gallery-container {
    flex-direction: column;
    gap: 10px;
  }
  .gallery-container img { width: 80%; max-width: 300px; }
  .gallery-container button { width: 50%; padding: 10px; }
  #pillReminder { top: 5px; right: 5%; width: 90%; padding: 10px; }
}
</style>
</head>
<body>

<h1>💖 Für dich bububär 💖</h1>
<p>Diese Seite ist für dich gemacht, weil ich dich ganz doll liebi 💞</p>

<div class="letter" id="letterBox">
  <h2>💌 Klick, um einen Grund zu sehen, warum ich dich liebe</h2>
  <p id="letterText">Klick auf den Button, um einen Grund zu sehen!</p>
  <button id="showReasonBtn">Zeig mir einen Grund 💕</button>
</div>

<div style="text-align:center;">
  <h2>🗓️ Countdown bis wir uns sehi:</h2>
  <div id="countdown"></div>
</div>

<h2>📸 Leos und Mios besten Bilder</h2>
<div class="gallery-container">
  <img id="randomImage" src="" alt="Random Bild">
  <button id="changeImageBtn">Bild wechseln 💕</button>
</div>

<div class="game">
  <h2>Bin ich der allertollste Freund auf dieser Welt? 💕</h2>
  <button id="yesBtn">Ja du geiler</button>
  <button id="noBtn">Nein!!!</button>
</div>

<!-- 💊 Pille-Reminder -->
<div id="pillReminder">
  <button id="pillMinimize">–</button>
  <h2 id="pillTitle">💊 Nimm die Pille ml!!!!</h2>
  <div id="pillCountdown"></div>
  <button id="pillTakenBtn">Hab genommi 😇</button>
</div>

<!-- 📝 Notizen -->
<button id="notesButton">📝 Notizen</button>
<div id="notesPanel">
  <h3>Paladins Ideen 💡</h3>
  <textarea id="notesArea" placeholder="Schreib deine Ideen hier rein..."></textarea>
</div>

<footer><p>Mit Liebe gemacht von justini 💕</p></footer>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyDJl-UVkVFCj-CfDiXcYBbVRoT9WpboXOs",
  authDomain: "nathalie-notizen-webseite.firebaseapp.com",
  projectId: "nathalie-notizen-webseite",
  storageBucket: "nathalie-notizen-webseite.firebasestorage.app",
  messagingSenderId: "627451220911",
  appId: "1:627451220911:web:63357b6799f075bacfd55a"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// 💖 Herzchen
function createHeart() {
  const heart = document.createElement("div");
  heart.classList.add("heart");
  heart.innerText = "💖";
  const size = Math.random() * 20 + 10;
  heart.style.fontSize = size + "px";
  heart.style.left = Math.random() * window.innerWidth + "px";
  heart.style.top = "-50px";
  document.body.appendChild(heart);
  const endY = window.innerHeight + 50;
  const duration = Math.random() * 4000 + 4000;
  let start = null;
  function animateHeart(timestamp) {
    if (!start) start = timestamp;
    const progress = timestamp - start;
    const fraction = progress / duration;
    heart.style.transform = `translateY(${fraction * endY}px) rotate(${fraction * 360}deg)`;
    heart.style.opacity = 1 - fraction;
    if (fraction < 1) requestAnimationFrame(animateHeart);
    else heart.remove();
  }
  requestAnimationFrame(animateHeart);
}
setInterval(createHeart, 400);

// 💌 Gründe
const reasons = [
  "Du bist die erste Person, die ich immer bei mir will.",
  "Du bist das erste, an das ich morgens denke.",
  "Du hast so lange auf mich gewartet <3.",
  "Du bist so süß und lieb.",
  "Du machst mich einfach glücklich.",
  "Du bist der Grund, warum ich lächle.",
  "Ich liebe deine Art zu lachen.",
  "Ich freue mich jedes Mal, dich zu sehen.",
  "Du bist wunderschön.",
  "Ich bin so stolz, dass du meins bist.",
  "Deine Augen sind so wunderschön."
];
document.getElementById("showReasonBtn").addEventListener("click", () => {
  document.getElementById("letterText").textContent =
    reasons[Math.floor(Math.random() * reasons.length)];
});

// 🕓 Countdown
const targetDate = new Date("2025-10-24T20:00:00");
const countdownEl = document.getElementById("countdown");
function updateCountdown() {
  const now = new Date();
  const diff = targetDate - now;
  if (diff <= 0) {countdownEl.textContent = "Endlich sehi 💕"; return;}
  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const mins = Math.floor((diff / (1000 * 60)) % 60);
  const secs = Math.floor((diff / 1000) % 60);
  countdownEl.textContent = `${days} Tage, ${hours} Std, ${mins} Min, ${secs} Sek`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

// 💕 Ja/Nein
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
noBtn.addEventListener("mouseover", () => {
  noBtn.style.position = "absolute";
  noBtn.style.left = Math.random() * 80 + "%";
  noBtn.style.top = Math.random() * 80 + "%";
});
yesBtn.addEventListener("click", () => alert("Yaaay 💖 Du hast bestimmt nicht versucht, den Nein-Button zu drücken..."));

// 💊 Pille
const pillTitle = document.getElementById("pillTitle");
const pillCountdown = document.getElementById("pillCountdown");
const pillTakenBtn = document.getElementById("pillTakenBtn");
const pillMinimize = document.getElementById("pillMinimize");
let pillMinimized = false;

pillMinimize.addEventListener("click", () => {
  const reminder = document.getElementById("pillReminder");
  pillMinimized = !pillMinimized;
  if(pillMinimized) reminder.classList.add("minimized");
  else reminder.classList.remove("minimized");
});

function updatePillCountdown() {
  const now = new Date();
  const pillTime = new Date();
  pillTime.setHours(20,0,0,0);
  if(now > pillTime) pillTime.setDate(pillTime.getDate()+1);
  const diff = pillTime - now;
  const hours = Math.floor(diff / (1000*60*60));
  const mins = Math.floor((diff / (1000*60)) % 60);
  const lastTaken = localStorage.getItem("pillTakenDate");
  const today = new Date().toDateString();
  if(lastTaken===today){
    pillTitle.textContent="✅ Schon genommi heute!";
    pillCountdown.textContent=`Nächste Pille in ${hours}h ${mins}m 💗`;
  } else if(now.getHours()>=20){
    pillTitle.textContent="💊 Nimm die Pille ml!!!!";
    pillCountdown.textContent="Jetzt ist Zeit 💖";
  } else {
    pillTitle.textContent="Pille späti nehmi:";
    pillCountdown.textContent=`Noch ${hours} Stunden und ${mins} Minuten 💞`;
  }
}
setInterval(updatePillCountdown, 1000*30);
updatePillCountdown();
pillTakenBtn.addEventListener("click", ()=>{
  localStorage.setItem("pillTakenDate", new Date().toDateString());
  updatePillCountdown();
});

// 📝 Notizen
const notesBtn = document.getElementById("notesButton");
const notesPanel = document.getElementById("notesPanel");
const notesArea = document.getElementById("notesArea");
notesBtn.addEventListener("click", ()=>{notesPanel.classList.toggle("open");});

// Firebase Notizen
auth.onAuthStateChanged(user=>{
  if(user){
    const notesRef = db.collection("notes").doc(user.uid);
    notesRef.get().then(doc=>{
      if(doc.exists) notesArea.value = doc.data().text || "";
    });
    notesArea.addEventListener("input", ()=>{
      notesRef.set({text: notesArea.value});
    });
  } else {
    notesArea.value="";
  }
});

// 🎨 Random Bild Galerie
const bilder = [
  "https://i.imgur.com/m05eQGf.jpeg",
  "https://i.imgur.com/rp80WsN.jpeg",
  "https://i.imgur.com/BIxd6ix.jpeg"
];

function zufallBild() {
  const index = Math.floor(Math.random() * bilder.length);
  return bilder[index];
}

function wechselBild() {
  const imgEl = document.getElementById("randomImage");
  let neuesBild;
  do {
    neuesBild = zufallBild();
  } while (neuesBild === imgEl.src);
  imgEl.src = neuesBild;
}

document.getElementById("changeImageBtn").addEventListener("click", wechselBild);
wechselBild();
</script>
</body>
</html>
